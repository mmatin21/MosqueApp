<div class="w-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6">
  <div class="pb-4 border-b dark:border-gray-700">
    <div class="px-4 divide-y dark:divide-gray-700">
      <div
          class="flex flex-col py-3 space-y-3 md:flex-row md:items-center md:justify-between md:space-y-0 md:space-x-4">
        <div>
          <h5 class="mb-1 font-semibold dark:text-white"><%= fundraiser.name %></h5>
          <div class="flex items-center text-gray-500 dark:text-gray-400">
            <% unless masjid_signed_in? %>
            <div class="flex flex-col py-4 space-y-3 md:flex-row md:items-center md:justify-between md:space-y-0 md:space-x-4 md:py-0">

              <button type="button"
                  class="flex items-center justify-center flex-shrink-0 px-4 py-2 text-sm font-medium text-white rounded-lg bg-blue-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800">
                <svg class="h-3.5 w-3.5 mr-2" fill="currentColor" viewBox="0 0 20 20"
                 xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path clip-rule="evenodd" fill-rule="evenodd"
                    d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"></path>
                </svg>
                Donate
              </button>
            </div>
            <% end %>
          </div>
        </div>
        <div
            class="flex items-center space-x-6">
          <div>
            <h5 class="mb-1 text-gray-500 dark:text-gray-400">Donated Amount</h5>
            <p class="text-lg font-bold text-orange-600">
              <%= number_to_currency(fundraiser.donations.sum(:amount)) %>
            </p>
          </div>
          <div>
            <h5 class="mb-1 text-gray-500 dark:text-gray-400">Goal Amount</h5>
            <p class="text-lg font-bold text-green-500">
              <%= number_to_currency(fundraiser.goal_amount) %>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-800 dark:text-gray-400">
      <tr class="border-b dark:border-gray-700">
        <th scope="col" class="px-4 py-3">
          <%= sort_link(query, :attendee_name, 'Name') %>
        </th>
        <th scope="col" class="px-4 py-3">
          <%= sort_link(query, :attendee_email, 'Email') %>
        </th>
        <th scope="col" class="px-4 py-3">
          <%= sort_link(query, :attendee_phone_number, 'Phone Number') %>
        </th>
        <th scope="col" class="px-4 py-3">
          <%= sort_link(query, :amount, 'Amount') %>
        </th>
        <th scope="col" class="px-4 py-3">
          <%= sort_link(query, :created_at, 'Create Date') %>
        </th>
      </tr>
    </thead>
    <tbody id = "donation_table">
      <% table.each do |item| %>
        <%= render 'tables/donation_row', item: item %>
      <% end %>
    </tbody>
  </table>
  <nav class="flex items-center flex-column flex-wrap md:flex-row justify-between pt-4" aria-label="Table navigation">
    <span class="text-sm font-normal text-gray-500 dark:text-gray-400 mb-4 md:mb-0 block w-full md:inline md:w-auto">Showing <span class="font-semibold text-gray-900 dark:text-white">1-10</span> of <span class="font-semibold text-gray-900 dark:text-white">1000</span></span>
    <%== pagy_nav(pagy) if pagy.pages > 1 %>
  </nav>
</div>